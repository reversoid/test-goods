(function(){"use strict";var t={571:function(t,e,r){var i=r(963),o=r(252);const n={class:"wrapper"},s=(0,o._)("h1",{class:"mega-title"},"Добавление товара",-1),c={class:"mainpage"};function l(t,e,r,i,l,a){const d=(0,o.up)("ControlBar"),p=(0,o.up)("GoodsList");return(0,o.wg)(),(0,o.iD)("div",n,[s,(0,o._)("section",c,[(0,o.Wm)(d,{style:{"margin-right":"1rem"},_createProduct:a.createProduct},null,8,["_createProduct"]),(0,o.Wm)(p,{products:l.goods,deleteCallback:a.deleteProduct},null,8,["products","deleteCallback"])])])}const a={class:"product-list-wrapper"};function d(t,e,r,i,n,s){const c=(0,o.up)("GoodItem");return(0,o.wg)(),(0,o.iD)("div",a,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.products,(t=>((0,o.wg)(),(0,o.j4)(c,{key:t.id,product:t,deleteCallback:r.deleteCallback},null,8,["product","deleteCallback"])))),128))])}var p=r(577);const u={class:"product",tabindex:"0"},m=["src"],f={class:"product__info"},_={class:"product__title"},g={class:"product__description"},h={class:"product__price"};function b(t,e,r,i,n,s){return(0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("button",{onClick:e[0]||(e[0]=t=>r.deleteCallback(this.product.id)),class:"delete-btn"}),(0,o._)("img",{class:"product__img",src:r.product.imgLink,alt:""},null,8,m),(0,o._)("div",f,[(0,o._)("div",null,[(0,o._)("h1",_,(0,p.zw)(r.product.title),1),(0,o._)("p",g,(0,p.zw)(r.product.description),1)]),(0,o._)("p",h,(0,p.zw)(r.product.price)+" руб.",1)])])}var v={name:"GoodItem",props:{product:{price:Number,title:String,description:String,imgLink:String},deleteCallback:Function}},k=r(744);const w=(0,k.Z)(v,[["render",b]]);var y=w,L={name:"GoodList",components:{GoodItem:y},props:{products:Array,deleteCallback:Function}};const C=(0,k.Z)(L,[["render",d]]);var x=C;const P={class:"form-section"},O=(0,o._)("label",{class:"form-section__label",for:"good-name"},"Наименование товара",-1),j={key:0,class:"alert"},D={class:"form-section"},F=(0,o._)("label",{class:"form-section__label",for:"good-desc"},"Описание товара",-1),G={key:0,class:"alert"},E={class:"form-section"},q=(0,o._)("label",{class:"form-section__label",for:"good-photo"},"Ссылка на изображение товара",-1),A={key:0,class:"alert"},S={class:"form-section mb15"},U=(0,o._)("label",{class:"form-section__label",for:"good-price"},"Цена товара",-1),V={key:0,class:"alert"},Z=["disabled"];function z(t,e,r,n,s,c){return(0,o.wg)(),(0,o.iD)("form",{action:"",class:"form",onSubmit:e[4]||(e[4]=(0,i.iM)((t=>c.validateAndCreateProduct()),["prevent"]))},[(0,o._)("div",P,[O,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.title=t),class:"form-section__input",id:"good-name",type:"text",placeholder:"Введите наименование товара"},null,512),[[i.nr,s.title]]),s.errors.title?((0,o.wg)(),(0,o.iD)("span",j,"Поле является обязательным")):(0,o.kq)("",!0)]),(0,o._)("div",D,[F,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.description=t),class:"form-section__input",id:"good-desc",type:"text",placeholder:"Введите описание товара"},null,512),[[i.nr,s.description]]),s.errors.description?((0,o.wg)(),(0,o.iD)("span",G,"Поле является обязательным")):(0,o.kq)("",!0)]),(0,o._)("div",E,[q,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.imgLink=t),class:"form-section__input",id:"good-photo",type:"text",placeholder:"Введите ссылку"},null,512),[[i.nr,s.imgLink]]),s.errors.imgLink?((0,o.wg)(),(0,o.iD)("span",A,"Поле является обязательным")):(0,o.kq)("",!0)]),(0,o._)("div",S,[U,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.price=t),class:"form-section__input",id:"good-price",type:"text",placeholder:"Введите цену"},null,512),[[i.nr,s.price]]),s.errors.price?((0,o.wg)(),(0,o.iD)("span",V,"Поле является обязательным")):(0,o.kq)("",!0)]),(0,o._)("button",{disabled:""===s.title||""===s.description||""===s.price||""===s.imgLink,type:"submit",class:"form__submit"},"Добавить товар",8,Z)],32)}var B={name:"ControlBar",props:{_createProduct:Function},data(){return{title:"",description:"",imgLink:"",price:"",errors:{title:!1,description:!1,imgLink:!1,price:!1}}},methods:{_resetForm(){this.title="",this.description="",this.imgLink="",this.price=""},_findErrors(){this.errors.description=""===this.description,this.errors.title=""===this.title,this.errors.imgLink=""===this.imgLink,this.errors.price=""===this.price},_errorExist(){for(let t in this.errors)if(this.errors[t])return!0;return!1},validateAndCreateProduct(){this._findErrors(),this._errorExist()||(this._createProduct(this.imgLink,this.title,this.description,this.price),this._resetForm())}}};const I=(0,k.Z)(B,[["render",z]]);var T=I;let W=0;var H={name:"App",components:{GoodsList:x,ControlBar:T},data(){return{goods:[{id:W++,title:"Название",description:"Описание товара... описание...",price:9e3,imgLink:"https://avatars.mds.yandex.net/get-mpic/4249638/img_id6129126127483725327.jpeg/orig"}]}},methods:{deleteProduct(t){this.goods=this.goods.filter((e=>e.id!=t))},createProduct(t,e,r,i){this.goods.push({title:e,description:r,price:i,imgLink:t,id:++W})}}};const K=(0,k.Z)(H,[["render",l]]);var M=K;(0,i.ri)(M).mount("#app")}},e={};function r(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,i,o,n){if(!i){var s=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],n=t[d][2];for(var c=!0,l=0;l<i.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((function(t){return r.O[t](i[l])}))?i.splice(l--,1):(c=!1,n<s&&(s=n));if(c){t.splice(d--,1);var a=o();void 0!==a&&(e=a)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,o,n]}}(),function(){r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,n,s=i[0],c=i[1],l=i[2],a=0;if(s.some((function(e){return 0!==t[e]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(l)var d=l(r)}for(e&&e(i);a<s.length;a++)n=s[a],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(d)},i=self["webpackChunkgoods_project"]=self["webpackChunkgoods_project"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(571)}));i=r.O(i)})();
//# sourceMappingURL=app.f1cec118.js.map